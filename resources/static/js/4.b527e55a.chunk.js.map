{"version":3,"sources":["../node_modules/codemirror/addon/dialog/dialog.js","../node_modules/codemirror/addon/search/searchcursor.js","../node_modules/codemirror/addon/search/search.js"],"names":["CodeMirror","dialogDiv","cm","template","bottom","dialog","getWrapperElement","appendChild","document","createElement","className","innerHTML","closeNotification","newVal","state","currentNotificationClose","defineExtension","callback","options","this","closed","me","close","inp","value","parentNode","removeChild","focus","onClose","button","getElementsByTagName","selectValueOnOpen","select","onInput","on","e","onKeyUp","onKeyDown","keyCode","closeOnEnter","blur","e_stop","closeOnBlur","callbacks","buttons","blurring","i","length","b","e_preventDefault","setTimeout","doneTimer","duration","clearTimeout","mod","doFold","noFold","Pos","ensureFlags","regexp","flags","current","ignoreCase","global","multiline","regexpFlags","target","indexOf","charAt","RegExp","source","searchRegexpForward","doc","start","line","ch","last","lastLine","lastIndex","string","getLine","match","exec","from","index","to","searchRegexpForwardMultiline","test","maybeMultiline","chunk","curLine","before","slice","split","inside","startLine","startCh","lastMatchIn","cutOff","newMatch","searchRegexpBackward","first","firstLine","searchRegexpBackwardMultiline","adjustPos","orig","folded","pos","foldFunc","min","max","Math","mid","len","searchStringForward","query","caseFold","fold","lines","search","found","cutFrom","end","endString","searchStringBackward","lastIndexOf","top","topString","SearchCursor","atOccurrence","clipPos","matches","reverse","String","prototype","normalize","str","toLowerCase","findNext","find","findPrevious","result","cmpPos","replace","newText","origin","splitLines","replaceRange","defineDocExtension","ranges","cur","getSearchCursor","getCursor","push","anchor","head","setSelections","SearchState","posFrom","posTo","lastQuery","overlay","getSearchState","queryCaseInsensitive","text","shortText","deflt","f","openDialog","prompt","parseString","_","parseQuery","isRE","queryDialog","startSearch","queryText","removeOverlay","caseInsensitive","token","stream","skipToEnd","searchOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","q","getSelection","hiding","searchNext","event","style","opacity","shiftKey","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","onEnter","clearSearch","persistentDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","cursor","setSelection","scrollIntoView","replaceAll","getRange","all","dialogText","advance","fs","openConfirm","confirm","confirmDialog","doReplace","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev"],"mappings":"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","file":"static/js/4.b527e55a.chunk.js","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Open simple dialogs on top of an editor. Relies on dialog.css.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  function dialogDiv(cm, template, bottom) {\n    var wrap = cm.getWrapperElement();\n    var dialog;\n    dialog = wrap.appendChild(document.createElement(\"div\"));\n    if (bottom)\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-bottom\";\n    else\n      dialog.className = \"CodeMirror-dialog CodeMirror-dialog-top\";\n\n    if (typeof template == \"string\") {\n      dialog.innerHTML = template;\n    } else { // Assuming it's a detached DOM element.\n      dialog.appendChild(template);\n    }\n    return dialog;\n  }\n\n  function closeNotification(cm, newVal) {\n    if (cm.state.currentNotificationClose)\n      cm.state.currentNotificationClose();\n    cm.state.currentNotificationClose = newVal;\n  }\n\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback, options) {\n    if (!options) options = {};\n\n    closeNotification(this, null);\n\n    var dialog = dialogDiv(this, template, options.bottom);\n    var closed = false, me = this;\n    function close(newVal) {\n      if (typeof newVal == 'string') {\n        inp.value = newVal;\n      } else {\n        if (closed) return;\n        closed = true;\n        dialog.parentNode.removeChild(dialog);\n        me.focus();\n\n        if (options.onClose) options.onClose(dialog);\n      }\n    }\n\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\n    if (inp) {\n      inp.focus();\n\n      if (options.value) {\n        inp.value = options.value;\n        if (options.selectValueOnOpen !== false) {\n          inp.select();\n        }\n      }\n\n      if (options.onInput)\n        CodeMirror.on(inp, \"input\", function(e) { options.onInput(e, inp.value, close);});\n      if (options.onKeyUp)\n        CodeMirror.on(inp, \"keyup\", function(e) {options.onKeyUp(e, inp.value, close);});\n\n      CodeMirror.on(inp, \"keydown\", function(e) {\n        if (options && options.onKeyDown && options.onKeyDown(e, inp.value, close)) { return; }\n        if (e.keyCode == 27 || (options.closeOnEnter !== false && e.keyCode == 13)) {\n          inp.blur();\n          CodeMirror.e_stop(e);\n          close();\n        }\n        if (e.keyCode == 13) callback(inp.value, e);\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(inp, \"blur\", close);\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\n      CodeMirror.on(button, \"click\", function() {\n        close();\n        me.focus();\n      });\n\n      if (options.closeOnBlur !== false) CodeMirror.on(button, \"blur\", close);\n\n      button.focus();\n    }\n    return close;\n  });\n\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks, options) {\n    closeNotification(this, null);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var buttons = dialog.getElementsByTagName(\"button\");\n    var closed = false, me = this, blurring = 1;\n    function close() {\n      if (closed) return;\n      closed = true;\n      dialog.parentNode.removeChild(dialog);\n      me.focus();\n    }\n    buttons[0].focus();\n    for (var i = 0; i < buttons.length; ++i) {\n      var b = buttons[i];\n      (function(callback) {\n        CodeMirror.on(b, \"click\", function(e) {\n          CodeMirror.e_preventDefault(e);\n          close();\n          if (callback) callback(me);\n        });\n      })(callbacks[i]);\n      CodeMirror.on(b, \"blur\", function() {\n        --blurring;\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\n      });\n      CodeMirror.on(b, \"focus\", function() { ++blurring; });\n    }\n  });\n\n  /*\n   * openNotification\n   * Opens a notification, that can be closed with an optional timer\n   * (default 5000ms timer) and always closes on click.\n   *\n   * If a notification is opened while another is opened, it will close the\n   * currently opened one and open the new one immediately.\n   */\n  CodeMirror.defineExtension(\"openNotification\", function(template, options) {\n    closeNotification(this, close);\n    var dialog = dialogDiv(this, template, options && options.bottom);\n    var closed = false, doneTimer;\n    var duration = options && typeof options.duration !== \"undefined\" ? options.duration : 5000;\n\n    function close() {\n      if (closed) return;\n      closed = true;\n      clearTimeout(doneTimer);\n      dialog.parentNode.removeChild(dialog);\n    }\n\n    CodeMirror.on(dialog, 'click', function(e) {\n      CodeMirror.e_preventDefault(e);\n      close();\n    });\n\n    if (duration)\n      doneTimer = setTimeout(close, duration);\n\n    return close;\n  });\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"))\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod)\n  else // Plain browser env\n    mod(CodeMirror)\n})(function(CodeMirror) {\n  \"use strict\"\n  var Pos = CodeMirror.Pos\n\n  function regexpFlags(regexp) {\n    var flags = regexp.flags\n    return flags != null ? flags : (regexp.ignoreCase ? \"i\" : \"\")\n      + (regexp.global ? \"g\" : \"\")\n      + (regexp.multiline ? \"m\" : \"\")\n  }\n\n  function ensureFlags(regexp, flags) {\n    var current = regexpFlags(regexp), target = current\n    for (var i = 0; i < flags.length; i++) if (target.indexOf(flags.charAt(i)) == -1)\n      target += flags.charAt(i)\n    return current == target ? regexp : new RegExp(regexp.source, target)\n  }\n\n  function maybeMultiline(regexp) {\n    return /\\\\s|\\\\n|\\n|\\\\W|\\\\D|\\[\\^/.test(regexp.source)\n  }\n\n  function searchRegexpForward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, last = doc.lastLine(); line <= last; line++, ch = 0) {\n      regexp.lastIndex = ch\n      var string = doc.getLine(line), match = regexp.exec(string)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpForwardMultiline(doc, regexp, start) {\n    if (!maybeMultiline(regexp)) return searchRegexpForward(doc, regexp, start)\n\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, last = doc.lastLine(); line <= last;) {\n      // This grows the search buffer in exponentially-sized chunks\n      // between matches, so that nearby matches are fast and don't\n      // require concatenating the whole document (in case we're\n      // searching for something that has tons of matches), but at the\n      // same time, the amount of retries is limited.\n      for (var i = 0; i < chunk; i++) {\n        if (line > last) break\n        var curLine = doc.getLine(line++)\n        string = string == null ? curLine : string + \"\\n\" + curLine\n      }\n      chunk = chunk * 2\n      regexp.lastIndex = start.ch\n      var match = regexp.exec(string)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = start.line + before.length - 1, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  function lastMatchIn(string, regexp) {\n    var cutOff = 0, match\n    for (;;) {\n      regexp.lastIndex = cutOff\n      var newMatch = regexp.exec(string)\n      if (!newMatch) return match\n      match = newMatch\n      cutOff = match.index + (match[0].length || 1)\n      if (cutOff == string.length) return match\n    }\n  }\n\n  function searchRegexpBackward(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"g\")\n    for (var line = start.line, ch = start.ch, first = doc.firstLine(); line >= first; line--, ch = -1) {\n      var string = doc.getLine(line)\n      if (ch > -1) string = string.slice(0, ch)\n      var match = lastMatchIn(string, regexp)\n      if (match)\n        return {from: Pos(line, match.index),\n                to: Pos(line, match.index + match[0].length),\n                match: match}\n    }\n  }\n\n  function searchRegexpBackwardMultiline(doc, regexp, start) {\n    regexp = ensureFlags(regexp, \"gm\")\n    var string, chunk = 1\n    for (var line = start.line, first = doc.firstLine(); line >= first;) {\n      for (var i = 0; i < chunk; i++) {\n        var curLine = doc.getLine(line--)\n        string = string == null ? curLine.slice(0, start.ch) : curLine + \"\\n\" + string\n      }\n      chunk *= 2\n\n      var match = lastMatchIn(string, regexp)\n      if (match) {\n        var before = string.slice(0, match.index).split(\"\\n\"), inside = match[0].split(\"\\n\")\n        var startLine = line + before.length, startCh = before[before.length - 1].length\n        return {from: Pos(startLine, startCh),\n                to: Pos(startLine + inside.length - 1,\n                        inside.length == 1 ? startCh + inside[0].length : inside[inside.length - 1].length),\n                match: match}\n      }\n    }\n  }\n\n  var doFold, noFold\n  if (String.prototype.normalize) {\n    doFold = function(str) { return str.normalize(\"NFD\").toLowerCase() }\n    noFold = function(str) { return str.normalize(\"NFD\") }\n  } else {\n    doFold = function(str) { return str.toLowerCase() }\n    noFold = function(str) { return str }\n  }\n\n  // Maps a position in a case-folded line back to a position in the original line\n  // (compensating for codepoints increasing in number during folding)\n  function adjustPos(orig, folded, pos, foldFunc) {\n    if (orig.length == folded.length) return pos\n    for (var min = 0, max = pos + Math.max(0, orig.length - folded.length);;) {\n      if (min == max) return min\n      var mid = (min + max) >> 1\n      var len = foldFunc(orig.slice(0, mid)).length\n      if (len == pos) return mid\n      else if (len > pos) max = mid\n      else min = mid + 1\n    }\n  }\n\n  function searchStringForward(doc, query, start, caseFold) {\n    // Empty string would match anything and never progress, so we\n    // define it to match nothing instead.\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, last = doc.lastLine() + 1 - lines.length; line <= last; line++, ch = 0) {\n      var orig = doc.getLine(line).slice(ch), string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.indexOf(lines[0])\n        if (found == -1) continue search\n        var start = adjustPos(orig, string, found, fold) + ch\n        return {from: Pos(line, adjustPos(orig, string, found, fold) + ch),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold) + ch)}\n      } else {\n        var cutFrom = string.length - lines[0].length\n        if (string.slice(cutFrom) != lines[0]) continue search\n        for (var i = 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(line + i)) != lines[i]) continue search\n        var end = doc.getLine(line + lines.length - 1), endString = fold(end), lastLine = lines[lines.length - 1]\n        if (endString.slice(0, lastLine.length) != lastLine) continue search\n        return {from: Pos(line, adjustPos(orig, string, cutFrom, fold) + ch),\n                to: Pos(line + lines.length - 1, adjustPos(end, endString, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function searchStringBackward(doc, query, start, caseFold) {\n    if (!query.length) return null\n    var fold = caseFold ? doFold : noFold\n    var lines = fold(query).split(/\\r|\\n\\r?/)\n\n    search: for (var line = start.line, ch = start.ch, first = doc.firstLine() - 1 + lines.length; line >= first; line--, ch = -1) {\n      var orig = doc.getLine(line)\n      if (ch > -1) orig = orig.slice(0, ch)\n      var string = fold(orig)\n      if (lines.length == 1) {\n        var found = string.lastIndexOf(lines[0])\n        if (found == -1) continue search\n        return {from: Pos(line, adjustPos(orig, string, found, fold)),\n                to: Pos(line, adjustPos(orig, string, found + lines[0].length, fold))}\n      } else {\n        var lastLine = lines[lines.length - 1]\n        if (string.slice(0, lastLine.length) != lastLine) continue search\n        for (var i = 1, start = line - lines.length + 1; i < lines.length - 1; i++)\n          if (fold(doc.getLine(start + i)) != lines[i]) continue search\n        var top = doc.getLine(line + 1 - lines.length), topString = fold(top)\n        if (topString.slice(topString.length - lines[0].length) != lines[0]) continue search\n        return {from: Pos(line + 1 - lines.length, adjustPos(top, topString, top.length - lines[0].length, fold)),\n                to: Pos(line, adjustPos(orig, string, lastLine.length, fold))}\n      }\n    }\n  }\n\n  function SearchCursor(doc, query, pos, options) {\n    this.atOccurrence = false\n    this.doc = doc\n    pos = pos ? doc.clipPos(pos) : Pos(0, 0)\n    this.pos = {from: pos, to: pos}\n\n    var caseFold\n    if (typeof options == \"object\") {\n      caseFold = options.caseFold\n    } else { // Backwards compat for when caseFold was the 4th argument\n      caseFold = options\n      options = null\n    }\n\n    if (typeof query == \"string\") {\n      if (caseFold == null) caseFold = false\n      this.matches = function(reverse, pos) {\n        return (reverse ? searchStringBackward : searchStringForward)(doc, query, pos, caseFold)\n      }\n    } else {\n      query = ensureFlags(query, \"gm\")\n      if (!options || options.multiline !== false)\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackwardMultiline : searchRegexpForwardMultiline)(doc, query, pos)\n        }\n      else\n        this.matches = function(reverse, pos) {\n          return (reverse ? searchRegexpBackward : searchRegexpForward)(doc, query, pos)\n        }\n    }\n  }\n\n  SearchCursor.prototype = {\n    findNext: function() {return this.find(false)},\n    findPrevious: function() {return this.find(true)},\n\n    find: function(reverse) {\n      var result = this.matches(reverse, this.doc.clipPos(reverse ? this.pos.from : this.pos.to))\n\n      // Implements weird auto-growing behavior on null-matches for\n      // backwards-compatiblity with the vim code (unfortunately)\n      while (result && CodeMirror.cmpPos(result.from, result.to) == 0) {\n        if (reverse) {\n          if (result.from.ch) result.from = Pos(result.from.line, result.from.ch - 1)\n          else if (result.from.line == this.doc.firstLine()) result = null\n          else result = this.matches(reverse, this.doc.clipPos(Pos(result.from.line - 1)))\n        } else {\n          if (result.to.ch < this.doc.getLine(result.to.line).length) result.to = Pos(result.to.line, result.to.ch + 1)\n          else if (result.to.line == this.doc.lastLine()) result = null\n          else result = this.matches(reverse, Pos(result.to.line + 1, 0))\n        }\n      }\n\n      if (result) {\n        this.pos = result\n        this.atOccurrence = true\n        return this.pos.match || true\n      } else {\n        var end = Pos(reverse ? this.doc.firstLine() : this.doc.lastLine() + 1, 0)\n        this.pos = {from: end, to: end}\n        return this.atOccurrence = false\n      }\n    },\n\n    from: function() {if (this.atOccurrence) return this.pos.from},\n    to: function() {if (this.atOccurrence) return this.pos.to},\n\n    replace: function(newText, origin) {\n      if (!this.atOccurrence) return\n      var lines = CodeMirror.splitLines(newText)\n      this.doc.replaceRange(lines, this.pos.from, this.pos.to, origin)\n      this.pos.to = Pos(this.pos.from.line + lines.length - 1,\n                        lines[lines.length - 1].length + (lines.length == 1 ? this.pos.from.ch : 0))\n    }\n  }\n\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this.doc, query, pos, caseFold)\n  })\n  CodeMirror.defineDocExtension(\"getSearchCursor\", function(query, pos, caseFold) {\n    return new SearchCursor(this, query, pos, caseFold)\n  })\n\n  CodeMirror.defineExtension(\"selectMatches\", function(query, caseFold) {\n    var ranges = []\n    var cur = this.getSearchCursor(query, this.getCursor(\"from\"), caseFold)\n    while (cur.findNext()) {\n      if (CodeMirror.cmpPos(cur.to(), this.getCursor(\"to\")) > 0) break\n      ranges.push({anchor: cur.from(), head: cur.to()})\n    }\n    if (ranges.length)\n      this.setSelections(ranges, 0)\n  })\n});\n","// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: http://codemirror.net/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\(.)/g, function(_, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      return ch\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  var queryDialog =\n    '<span class=\"CodeMirror-search-label\">Search:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, queryDialog, q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, queryDialog, \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  var replaceQueryDialog =\n    ' <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/> <span style=\"color: #888\" class=\"CodeMirror-search-hint\">(Use /re/ syntax for regexp search)</span>';\n  var replacementQueryDialog = '<span class=\"CodeMirror-search-label\">With:</span> <input type=\"text\" style=\"width: 10em\" class=\"CodeMirror-search-field\"/>';\n  var doReplaceConfirm = '<span class=\"CodeMirror-search-label\">Replace?</span> <button>Yes</button> <button>No</button> <button>All</button> <button>Stop</button>';\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = '<span class=\"CodeMirror-search-label\">' + (all ? 'Replace all:' : 'Replace:') + '</span>';\n    dialog(cm, dialogText + replaceQueryDialog, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, replacementQueryDialog, \"Replace with:\", \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n"],"sourceRoot":""}